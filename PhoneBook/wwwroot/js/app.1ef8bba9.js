(function(t){function e(e){for(var s,c,i=e[0],l=e[1],r=e[2],u=0,m=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&m.push(o[c][0]),o[c]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,r||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(s=!1)}s&&(n.splice(e--,1),t=c(c.s=a[0]))}return t}var s={},o={app:0},n=[];function c(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=s,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(a,s,function(e){return t[e]}.bind(null,s));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var r=0;r<i.length;r++)e(i[r]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("router-view",{attrs:{isSuccess:t.$store.state.isSuccess}})],1)])},n=[],c={name:"App"},i=c,l=(a("5c0b"),a("2877")),r=Object(l["a"])(i,o,n,!1,null,null,null),d=r.exports,u=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"phone-book-form"}},[a("div",{staticClass:"row mb-3 d-flex align-items-start"},[a("div",{staticClass:"col-md-4"},[a("h2",{staticClass:"display-8 my-3"},[t._v("Add contact")]),a("form",{class:{"was-validated":t.isInvalid},attrs:{novalidate:""}},[a("label",{staticClass:"form-label mt-2",attrs:{for:"first-name"}},[t._v("First name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.firstNameInputText,expression:"firstNameInputText"}],staticClass:"form-control",attrs:{type:"text",id:"first-name",required:""},domProps:{value:t.firstNameInputText},on:{input:function(e){e.target.composing||(t.firstNameInputText=e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v("*field is empty")]),a("label",{staticClass:"form-label mt-2",attrs:{for:"middle-name"}},[t._v("Middle name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.middleNameInputText,expression:"middleNameInputText"}],staticClass:"form-control",attrs:{type:"text",id:"middle-name"},domProps:{value:t.middleNameInputText},on:{input:function(e){e.target.composing||(t.middleNameInputText=e.target.value)}}}),a("label",{staticClass:"form-label mt-2",attrs:{for:"last-name"}},[t._v("Last name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lastNameInputText,expression:"lastNameInputText"}],staticClass:"form-control",attrs:{type:"text",id:"last-name",required:""},domProps:{value:t.lastNameInputText},on:{input:function(e){e.target.composing||(t.lastNameInputText=e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v("*field is empty")]),a("label",{staticClass:"form-label mt-2",attrs:{for:"mobile-phone"}},[t._v("Mobile phone:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mobilePhoneInputText,expression:"mobilePhoneInputText"}],staticClass:"form-control",attrs:{type:"text",id:"mobile-phone",required:""},domProps:{value:t.mobilePhoneInputText},on:{input:function(e){e.target.composing||(t.mobilePhoneInputText=e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v("*field is empty")]),a("label",{staticClass:"form-label mt-2",attrs:{for:"home-phone"}},[t._v("Home phone:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.homePhoneInputText,expression:"homePhoneInputText"}],staticClass:"form-control",attrs:{type:"text",id:"home-phone"},domProps:{value:t.homePhoneInputText},on:{input:function(e){e.target.composing||(t.homePhoneInputText=e.target.value)}}}),a("button",{staticClass:"btn btn-primary my-3 me-1",attrs:{type:"button"},on:{click:t.createContact}},[t._v("Add contact")]),a("button",{staticClass:"btn btn-secondary my-3 me-1",attrs:{type:"button"},on:{click:t.clearForm}},[t._v("Clear")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.hasContact,expression:"$store.state.hasContact"}],staticClass:"text-danger fw-bold"},[t._v("Phone number already exist!")])])]),a("div",{staticClass:"col-md-4"},[a("h2",{staticClass:"display-8 my-3"},[t._v("Search contact")]),a("form",{attrs:{id:"search-form",novalidate:""}},[a("label",{staticClass:"form-label mt-2",attrs:{for:"search-contact"}},[t._v("Type search request")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInputText,expression:"searchInputText"}],staticClass:"form-control",attrs:{type:"text",id:"search-contact"},domProps:{value:t.searchInputText},on:{input:function(e){e.target.composing||(t.searchInputText=e.target.value)}}}),a("button",{staticClass:"btn btn-primary my-3 me-1",attrs:{type:"button"},on:{click:t.searchContacts}},[t._v("Search")]),a("button",{staticClass:"btn btn-secondary my-3 me-1",attrs:{type:"button"},on:{click:t.clearSearch}},[t._v("Clear")])])])]),a("div",{staticClass:"container px-0"},[a("h2",{staticClass:"display-8 mt-5 mb-3"},[t._v("Contacts list")]),a("div",{staticClass:"table-responsive px-0"},[a("table",{staticClass:"table align-middle ps-0",attrs:{id:"phone-book"}},[a("thead",{staticClass:"table-light"},[a("tr",[a("th",{staticClass:"col-1",attrs:{scope:"col"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isCheckedAllContacts,expression:"isCheckedAllContacts"}],attrs:{type:"checkbox"},domProps:{value:!0,checked:Array.isArray(t.isCheckedAllContacts)?t._i(t.isCheckedAllContacts,!0)>-1:t.isCheckedAllContacts},on:{change:function(e){var a=t.isCheckedAllContacts,s=e.target,o=!!s.checked;if(Array.isArray(a)){var n=!0,c=t._i(a,n);s.checked?c<0&&(t.isCheckedAllContacts=a.concat([n])):c>-1&&(t.isCheckedAllContacts=a.slice(0,c).concat(a.slice(c+1)))}else t.isCheckedAllContacts=o}}})]),a("th",{staticClass:"col-1",attrs:{scope:"col"}},[t._v("â„–")]),a("th",{attrs:{scope:"col"}},[t._v("Last Name")]),a("th",{attrs:{scope:"col"}},[t._v("First Name")]),a("th",{attrs:{scope:"col"}},[t._v("Middle Name")]),a("th",{attrs:{scope:"col"}},[t._v("Phone")]),a("th",{staticClass:"col-1",attrs:{scope:"col"}},[t._v("Delete")])])]),a("tbody",t._l(t.contacts,(function(e,s){return a("table-row",{key:e.id,attrs:{"is-checked-all":t.isCheckedAllContacts,index:s,contact:e},on:{"set-contact-delete-status":t.setContactDeleteStatus,"set-contact-to-delete":t.setContactToDelete}})})),1)])]),a("div",{staticClass:"d-flex flex-row-reverse"},[a("button",{staticClass:"btn btn-danger my-3",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#delete-contacts-confirmation"},on:{click:t.checkContactsDeleteStatus}},[t._v(" Delete checked ")])]),a("contact-delete-modal-dialog",{on:{"delete-contact-confirm":t.deleteContact}}),a("contacts-delete-modal-dialog",{attrs:{"has-contacts-to-delete":t.hasContactsToDelete},on:{"delete-checked-contacts-confirm":t.deleteCheckedContacts}})],1)])},h=[],p=(a("498a"),a("4de4"),a("d3b7"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{attrs:{id:"table-row"}},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isChecked,expression:"isChecked"}],attrs:{type:"checkbox"},domProps:{value:!0,checked:Array.isArray(t.isChecked)?t._i(t.isChecked,!0)>-1:t.isChecked},on:{change:[function(e){var a=t.isChecked,s=e.target,o=!!s.checked;if(Array.isArray(a)){var n=!0,c=t._i(a,n);s.checked?c<0&&(t.isChecked=a.concat([n])):c>-1&&(t.isChecked=a.slice(0,c).concat(a.slice(c+1)))}else t.isChecked=o},t.setContactDeleteStatus]}})]),a("td",{domProps:{textContent:t._s(t.index+1)}}),a("td",{domProps:{textContent:t._s(t.contact.lastName)}}),a("td",{domProps:{textContent:t._s(t.contact.firstName)}}),a("td",{domProps:{textContent:t._s(t.contact.middleName)}}),a("td",t._l(t.contact.phoneNumbers,(function(e){return a("div",{key:e.id,domProps:{textContent:t._s(e.phone)}})})),0),a("td",[a("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#delete-contact-confirmation"},on:{click:t.setContactToDelete}},[t._v(" Delete ")])])])}),f=[],C=(a("a9e3"),{props:{contact:{type:Object,required:!0},index:{type:Number,required:!0},isCheckedAll:{type:Boolean,required:!0}},data:function(){return{isChecked:!1}},methods:{setContactToDelete:function(){this.$emit("set-contact-to-delete",this.contact)},setContactDeleteStatus:function(){this.$emit("set-contact-delete-status",this.contact.id,this.isChecked)}},watch:{isCheckedAll:function(t){this.isChecked=t,this.setContactDeleteStatus()}}}),b=C,v=Object(l["a"])(b,p,f,!1,null,null,null),x=v.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"delete-contact-confirmation","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[t._m(0),t._m(1),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-bs-dismiss":"modal"},on:{click:t.confirmToDeleteContact}},[t._v("Delete")])])])])])},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("Confirm delete")]),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-body"},[a("p",[t._v("Are you sure you want to delete this contact?")])])}],k={methods:{confirmToDeleteContact:function(){this.$emit("delete-contact-confirm")}}},_=k,I=Object(l["a"])(_,y,T,!1,null,null,null),g=I.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"delete-contacts-confirmation","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[t._m(0),t._m(1),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-bs-dismiss":"modal",disabled:!t.hasContactsToDelete},on:{click:t.confirmToDeleteCheckedContacts}},[t._v(" Delete ")])])])])])},N=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("Confirm delete")]),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-body"},[a("p",[t._v("Are you sure you want to delete checked contacts?")])])}],P={props:{hasContactsToDelete:{type:Boolean,required:!0}},methods:{confirmToDeleteCheckedContacts:function(){this.$emit("delete-checked-contacts-confirm")}}},w=P,S=Object(l["a"])(w,D,N,!1,null,null,null),A=S.exports,$={components:{TableRow:x,ContactDeleteModalDialog:g,ContactsDeleteModalDialog:A},props:{isSuccess:{type:Boolean,required:!0}},created:function(){this.$store.dispatch("loadContacts")},computed:{contacts:function(){return this.$store.state.contacts},hasContactsToDelete:function(){return 0!==this.contactsIdToDelete.length},contactsCountToDelete:function(){return this.contactsIdToDelete.length}},watch:{isSuccess:function(t){t&&(this.searchInputText="",this.term="",this.isCheckedAllContacts=!1,this.clearForm(),this.$store.state.isSuccess=!1)},contactsCountToDelete:function(t){0===t&&(this.isCheckedAllContacts=!1)}},data:function(){return{contactToDelete:{},contactsIdToDelete:[],firstNameInputText:"",middleNameInputText:"",lastNameInputText:"",mobilePhoneInputText:"",homePhoneInputText:"",searchInputText:"",therm:"",isInvalid:!1,isCheckedAllContacts:!1}},methods:{searchContacts:function(){this.contactsIdToDelete=[],this.term=this.searchInputText.trim();var t={params:{term:this.term}};this.$store.dispatch("loadContacts",t)},deleteContact:function(){this.$store.dispatch("deleteContact",{id:this.contactToDelete.id}),this.searchInputText=""},deleteCheckedContacts:function(){this.$store.dispatch("deleteCheckedContacts",this.contactsIdToDelete),this.contactsIdToDelete=[],this.searchInputText="",this.term=""},createContact:function(){this.$store.commit("setContactExistStatus",!1);var t=this.firstNameInputText.trim(),e=this.middleNameInputText.trim(),a=this.lastNameInputText.trim(),s=this.mobilePhoneInputText.trim(),o=this.homePhoneInputText.trim();if(0!==t.length&&0!==a.length&&0!==s.length){var n={firstName:t,middleName:e,lastName:a,phoneNumbers:[{phone:s,type:0},{phone:o,type:1}]};this.$store.dispatch("createContact",n),this.searchInputText="",this.term=""}else this.isInvalid=!0},setContactToDelete:function(t){this.contactToDelete=t},setContactDeleteStatus:function(t,e){e?this.contactsIdToDelete.push(t):this.contactsIdToDelete=this.contactsIdToDelete.filter((function(e){return e!==t}))},checkContactsDeleteStatus:function(){return this.contactsIdToDelete},clearForm:function(){this.firstNameInputText="",this.middleNameInputText="",this.lastNameInputText="",this.mobilePhoneInputText="",this.homePhoneInputText="",this.isInvalid=!1,this.$store.commit("setContactExistStatus",!1)},clearSearch:function(){this.searchInputText="",this.term="",this.$store.dispatch("loadContacts")}}},O=$,j=Object(l["a"])(O,m,h,!1,null,null,null),E=j.exports;s["a"].use(u["a"]);var q=[{path:"/",name:"Home",component:E}],B=new u["a"]({mode:"history",base:"/",routes:q}),M=B,F=a("2f62"),L=a("bc3a"),H=a.n(L);s["a"].use(F["a"]);var J=new F["a"].Store({state:{isSuccess:!1,contacts:[],hasContact:!1},mutations:{setIsSuccess:function(t,e){t.isSuccess=e},setContacts:function(t,e){t.contacts=e},setContactExistStatus:function(t,e){t.hasContact=e}},actions:{loadContacts:function(t,e){return H.a.get("/api/PhoneBook/GetContacts",e).then((function(e){t.commit("setContacts",e.data)})).catch((function(){alert("Load contacts fail")}))},deleteContact:function(t,e){return H.a.post("/api/PhoneBook/DeleteContact",e).then((function(e){e.data.success?(t.commit("setIsSuccess",!0),t.dispatch("loadContacts")):(t.commit("setIsSuccess",!1),alert(e.data.message))})).catch((function(){alert("Delete fail")}))},deleteCheckedContacts:function(t,e){return H.a.post("/api/PhoneBook/DeleteContacts",e).then((function(e){e.data.success?(t.commit("setIsSuccess",!0),t.dispatch("loadContacts")):(t.commit("setIsSuccess",!1),alert(e.data.message))})).catch((function(){alert("Delete contact fail")}))},createContact:function(t,e){return H.a.post("/api/PhoneBook/CreateContact",e).then((function(e){e.data.success?(t.dispatch("loadContacts"),t.commit("setContactExistStatus",!1),t.commit("setIsSuccess",!0)):(t.commit("setContactExistStatus",!0),t.commit("setIsSuccess",!1))})).catch((function(){console.log("Create fail")}))}}});a("f507"),a("f9e3");s["a"].config.productionTip=!1,new s["a"]({router:M,store:J,render:function(t){return t(d)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"9c0c":function(t,e,a){}});
//# sourceMappingURL=app.1ef8bba9.js.map