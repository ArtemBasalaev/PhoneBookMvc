(function(t){function e(e){for(var s,c,i=e[0],l=e[1],r=e[2],u=0,m=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&m.push(o[c][0]),o[c]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,r||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(s=!1)}s&&(n.splice(e--,1),t=c(c.s=a[0]))}return t}var s={},o={app:0},n=[];function c(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=s,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(a,s,function(e){return t[e]}.bind(null,s));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var r=0;r<i.length;r++)e(i[r]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view",{attrs:{isSuccess:t.$store.state.isSuccess}})],1)},n=[],c={name:"App"},i=c,l=a("2877"),r=Object(l["a"])(i,o,n,!1,null,null,null),d=r.exports,u=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",class:{"opacity-25":t.$store.state.isLoading},attrs:{id:"phone-book-form"}},[a("div",{staticClass:"row px-0 d-flex align-items-start"},[a("div",{staticClass:"col-md-4"},[a("h2",{staticClass:"display-8 my-3"},[t._v("Add contact")]),a("form",{class:{"was-validated":t.isInvalid},attrs:{novalidate:""}},[a("label",{staticClass:"form-label mt-2",attrs:{for:"first-name"}},[t._v("First name*:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.firstNameInputText,expression:"firstNameInputText"}],staticClass:"form-control",attrs:{type:"text",id:"first-name",required:""},domProps:{value:t.firstNameInputText},on:{input:function(e){e.target.composing||(t.firstNameInputText=e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v("*field is empty")]),a("label",{staticClass:"form-label mt-2",attrs:{for:"middle-name"}},[t._v("Middle name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.middleNameInputText,expression:"middleNameInputText"}],staticClass:"form-control",attrs:{type:"text",id:"middle-name"},domProps:{value:t.middleNameInputText},on:{input:function(e){e.target.composing||(t.middleNameInputText=e.target.value)}}}),a("label",{staticClass:"form-label mt-2",attrs:{for:"last-name"}},[t._v("Last name*:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lastNameInputText,expression:"lastNameInputText"}],staticClass:"form-control",attrs:{type:"text",id:"last-name",required:""},domProps:{value:t.lastNameInputText},on:{input:function(e){e.target.composing||(t.lastNameInputText=e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v("*field is empty")]),a("label",{staticClass:"form-label mt-2",attrs:{for:"mobile-phone"}},[t._v("Mobile phone*:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mobilePhoneInputText,expression:"mobilePhoneInputText"}],staticClass:"form-control",attrs:{type:"text",id:"mobile-phone",required:""},domProps:{value:t.mobilePhoneInputText},on:{input:function(e){e.target.composing||(t.mobilePhoneInputText=e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v("*field is empty")]),a("label",{staticClass:"form-label mt-2",attrs:{for:"home-phone"}},[t._v("Home phone:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.homePhoneInputText,expression:"homePhoneInputText"}],staticClass:"form-control",attrs:{type:"text",id:"home-phone"},domProps:{value:t.homePhoneInputText},on:{input:function(e){e.target.composing||(t.homePhoneInputText=e.target.value)}}}),a("div",{staticClass:"text-danger mt-2"},[t._v("*required")]),a("button",{staticClass:"btn btn-primary my-3 me-1",attrs:{type:"button"},on:{click:t.createContact}},[t._v("Add contact")]),a("button",{staticClass:"btn btn-secondary my-3 me-1",attrs:{type:"button"},on:{click:t.clearForm}},[t._v("Clear")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.hasContact,expression:"$store.state.hasContact"}],staticClass:"text-danger fw-bold"},[t._v("Phone number already exist!")])])]),a("div",{staticClass:"col-md-4"},[a("h2",{staticClass:"display-8 my-3"},[t._v("Search contact")]),a("form",{attrs:{id:"search-form",novalidate:""}},[a("label",{staticClass:"form-label mt-2",attrs:{for:"search-contact"}},[t._v("Type search request:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInputText,expression:"searchInputText"}],staticClass:"form-control",attrs:{type:"text",id:"search-contact"},domProps:{value:t.searchInputText},on:{input:function(e){e.target.composing||(t.searchInputText=e.target.value)}}}),a("button",{staticClass:"btn btn-primary my-3 me-1",attrs:{type:"button"},on:{click:t.searchContacts}},[t._v("Search")]),a("button",{staticClass:"btn btn-secondary my-3 me-1",attrs:{type:"button"},on:{click:t.clearSearchResult}},[t._v("Clear")])])])]),a("div",{staticClass:"row px-0"},[a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"spinner-border",class:{invisible:!t.$store.state.isLoading},attrs:{role:"status"}})])]),a("div",{staticClass:"row px-0"},[a("h2",{staticClass:"display-8 mb-3"},[t._v("Contacts list")]),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table align-middle",attrs:{id:"phone-book"}},[a("thead",{staticClass:"table-light"},[a("tr",[a("th",{staticClass:"col-1",attrs:{scope:"col"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isCheckedAllContacts,expression:"isCheckedAllContacts"}],attrs:{type:"checkbox"},domProps:{value:!0,checked:Array.isArray(t.isCheckedAllContacts)?t._i(t.isCheckedAllContacts,!0)>-1:t.isCheckedAllContacts},on:{change:function(e){var a=t.isCheckedAllContacts,s=e.target,o=!!s.checked;if(Array.isArray(a)){var n=!0,c=t._i(a,n);s.checked?c<0&&(t.isCheckedAllContacts=a.concat([n])):c>-1&&(t.isCheckedAllContacts=a.slice(0,c).concat(a.slice(c+1)))}else t.isCheckedAllContacts=o}}})]),a("th",{staticClass:"col-1",attrs:{scope:"col"}},[t._v("â„–")]),a("th",{attrs:{scope:"col"}},[t._v("First Name")]),a("th",{attrs:{scope:"col"}},[t._v("Last Name")]),a("th",{attrs:{scope:"col"}},[t._v("Phone")]),a("th",{staticClass:"col-1",attrs:{scope:"col"}},[t._v("Delete")])])]),a("tbody",t._l(t.contacts,(function(e,s){return a("table-row",{key:e.id,attrs:{"is-checked-all":t.isCheckedAllContacts,index:s,contact:e},on:{"set-contact-checked-to-delete":t.setIsCheckedToDelete,"set-contact-to-delete":t.setContactToDelete}})})),1)])]),a("div",{staticClass:"d-flex flex-row-reverse pe-3"},[a("button",{staticClass:"btn btn-danger my-3",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#modal-dialog",disabled:!t.hasContactsToDelete},on:{click:t.setModalDialogDeleteContactsMode}},[t._v(" Delete checked ")])]),a("modal-dialog",{attrs:{"dialog-message":t.dialogMessage,"dialog-title":t.dialogTitle},on:{confirm:t.deleteWithConfirmation}})],1)])},h=[],p=(a("498a"),a("4de4"),a("d3b7"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isChecked,expression:"isChecked"}],attrs:{type:"checkbox"},domProps:{value:!0,checked:Array.isArray(t.isChecked)?t._i(t.isChecked,!0)>-1:t.isChecked},on:{change:[function(e){var a=t.isChecked,s=e.target,o=!!s.checked;if(Array.isArray(a)){var n=!0,c=t._i(a,n);s.checked?c<0&&(t.isChecked=a.concat([n])):c>-1&&(t.isChecked=a.slice(0,c).concat(a.slice(c+1)))}else t.isChecked=o},t.setContactCheckedToDelete]}})]),a("td",{domProps:{textContent:t._s(t.index+1)}}),a("td",{domProps:{textContent:t._s(t.contact.firstName)}}),a("td",{domProps:{textContent:t._s(t.contact.lastName)}}),a("td",t._l(t.contact.phoneNumbers,(function(e){return a("div",{key:e.id,domProps:{textContent:t._s(e.phone)}})})),0),a("td",[a("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#modal-dialog"},on:{click:t.setContactToDelete}},[t._v(" Delete ")])])])}),C=[],f=(a("a9e3"),{props:{contact:{type:Object,required:!0},index:{type:Number,required:!0},isCheckedAll:{type:Boolean,required:!0}},data:function(){return{isChecked:!1}},methods:{setContactToDelete:function(){this.$emit("set-contact-to-delete",this.contact)},setContactCheckedToDelete:function(){this.$emit("set-contact-checked-to-delete",this.contact.id,this.isChecked)}},watch:{isCheckedAll:function(t){this.isChecked=t,this.setContactCheckedToDelete()}}}),v=f,b=Object(l["a"])(v,p,C,!1,null,null,null),g=b.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"modal-dialog","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",domProps:{textContent:t._s(t.dialogTitle)}}),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),a("div",{staticClass:"modal-body"},[a("p",{domProps:{textContent:t._s(t.dialogMessage)}})]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-bs-dismiss":"modal"},on:{click:t.confirm}},[t._v(" Delete ")])])])])])},y=[],k={props:{dialogMessage:{type:String,required:!0},dialogTitle:{type:String,required:!0}},methods:{confirm:function(){this.$emit("confirm")}}},T=k,I=Object(l["a"])(T,x,y,!1,null,null,null),_=I.exports,D={components:{TableRow:g,ModalDialog:_},props:{isSuccess:{type:Boolean,required:!0}},created:function(){this.$store.dispatch("loadContacts")},computed:{contacts:function(){return this.$store.state.contacts},hasContactsToDelete:function(){return 0!==this.contactsIdsToDelete.length},contactsCountToDelete:function(){return this.contactsIdsToDelete.length}},watch:{isSuccess:function(t){t&&(this.clearForm(),this.clearSearchField(),this.isCheckedAllContacts=!1,this.contactsIdsToDelete=[],this.$store.state.isSuccess=!1)},contactsCountToDelete:function(t){0===t&&(this.isCheckedAllContacts=!1)}},data:function(){return{contactToDelete:{},contactsIdsToDelete:[],firstNameInputText:"",middleNameInputText:"",lastNameInputText:"",mobilePhoneInputText:"",homePhoneInputText:"",searchInputText:"",term:"",isInvalid:!1,isCheckedAllContacts:!1,isModalDialogDeleteContactMode:!1,dialogMessage:"",dialogTitle:"Confirm delete"}},methods:{createContact:function(){this.$store.commit("setContactExistStatus",!1);var t=this.firstNameInputText.trim(),e=this.middleNameInputText.trim(),a=this.lastNameInputText.trim(),s=this.mobilePhoneInputText.trim(),o=this.homePhoneInputText.trim();if(0!==t.length&&0!==a.length&&0!==s.length){var n={firstName:t,middleName:e,lastName:a,phoneNumbers:[{phone:s,type:0},{phone:o,type:1}]};this.clearSearchField(),this.$store.dispatch("createContact",n)}else this.isInvalid=!0},clearForm:function(){this.firstNameInputText="",this.middleNameInputText="",this.lastNameInputText="",this.mobilePhoneInputText="",this.homePhoneInputText="",this.isInvalid=!1,this.$store.commit("setContactExistStatus",!1)},searchContacts:function(){this.contactsIdsToDelete=[],this.term=this.searchInputText.trim();var t={params:{term:this.term}};this.$store.dispatch("loadContacts",t)},clearSearchField:function(){this.searchInputText="",this.term=""},clearSearchResult:function(){this.clearSearchField(),this.$store.dispatch("loadContacts")},deleteWithConfirmation:function(){this.isModalDialogDeleteContactMode?this.deleteContact():this.deleteCheckedContacts()},deleteContact:function(){this.clearSearchField(),this.$store.dispatch("deleteContact",[this.contactToDelete.id])},deleteCheckedContacts:function(){this.clearSearchField(),this.$store.dispatch("deleteCheckedContacts",this.contactsIdsToDelete)},setContactToDelete:function(t){this.contactToDelete=t,this.isModalDialogDeleteContactMode=!0,this.dialogMessage="Are you sure you want to delete contact?"},setIsCheckedToDelete:function(t,e){e?this.contactsIdsToDelete.push(t):this.contactsIdsToDelete=this.contactsIdsToDelete.filter((function(e){return e!==t}))},setModalDialogDeleteContactsMode:function(){this.isModalDialogDeleteContactMode=!1,this.dialogMessage="Are you sure you want to delete checked contacts?"},checkContactsDeleteStatus:function(){return this.contactsIdsToDelete}}},S=D,P=Object(l["a"])(S,m,h,!1,null,null,null),N=P.exports;s["a"].use(u["a"]);var w=[{path:"/",name:"Home",component:N}],A=new u["a"]({mode:"history",base:"/",routes:w}),M=A,$=a("2f62"),O=a("d4ec"),j=a("bee2"),B=a("bc3a"),q=a.n(B),F=function(){function t(){Object(O["a"])(this,t)}return Object(j["a"])(t,[{key:"getContacts",value:function(t){return q.a.get("/api/PhoneBook/getContacts",t)}},{key:"createContact",value:function(t){return q.a.post("/api/PhoneBook/createContact",t)}},{key:"deleteContact",value:function(t){return q.a.post("/api/PhoneBook/deleteContact",t)}},{key:"deleteContacts",value:function(t){return q.a.post("/api/PhoneBook/deleteContacts",t)}}]),t}();s["a"].use($["a"]);var L=new $["a"].Store({state:{phoneBookService:new F,isLoading:!1,isSuccess:!1,contacts:[],hasContact:!1},mutations:{setIsLoading:function(t,e){t.isLoading=e},setIsSuccess:function(t,e){t.isSuccess=e},setContacts:function(t,e){t.contacts=e},setContactExistStatus:function(t,e){t.hasContact=e}},actions:{loadContacts:function(t,e){return t.commit("setIsLoading",!0),t.commit("setContacts",[]),t.state.phoneBookService.getContacts(e).then((function(e){t.commit("setContacts",e.data)})).catch((function(){alert("Load contacts fail")})).then((function(){t.commit("setIsLoading",!1)}))},deleteContact:function(t,e){return t.state.phoneBookService.deleteContact(e).then((function(e){e.data.success?(t.commit("setIsSuccess",!0),t.dispatch("loadContacts")):(t.commit("setIsSuccess",!1),alert(e.data.message))})).catch((function(){alert("Delete fail")}))},deleteCheckedContacts:function(t,e){return t.state.phoneBookService.deleteContacts(e).then((function(e){e.data.success?(t.commit("setIsSuccess",!0),t.dispatch("loadContacts")):(t.commit("setIsSuccess",!1),alert(e.data.message))})).catch((function(){alert("Delete contact fail")}))},createContact:function(t,e){return t.state.phoneBookService.createContact(e).then((function(e){e.data.success?(t.dispatch("loadContacts"),t.commit("setContactExistStatus",!1),t.commit("setIsSuccess",!0)):(t.commit("setContactExistStatus",!0),t.commit("setIsSuccess",!1))})).catch((function(){alert("Create fail")}))}}});a("f507"),a("f9e3");s["a"].config.productionTip=!1,new s["a"]({router:M,store:L,render:function(t){return t(d)}}).$mount("#app")}});
//# sourceMappingURL=app.2808c89b.js.map